(self.webpackChunk=self.webpackChunk||[]).push([[8538],{34204:(n,t,a)=>{"use strict";a.d(t,{Z:()=>r});var e=a(94015),i=a.n(e),o=a(23645),s=a.n(o)()(i());s.push([n.id,".animation[data-v-0836ac5e]{width:100%;max-width:1200px;height:350px}.animation[data-v-0836ac5e] canvas{width:100%!important;height:auto!important}.message-container[data-v-0836ac5e]{position:relative;height:0;z-index:2}.message-container .message[data-v-0836ac5e]{position:absolute;top:5px;left:50%;transform:translateX(-50%)}","",{version:3,sources:["webpack://./packages/heads-or-tails/resources/js/pages/game.vue"],names:[],mappings:"AAyZA,4BACE,UAAA,CACA,gBAAA,CACA,YAxZF,CAyZE,mCACE,oBAAA,CACA,qBAvZJ,CA0ZA,oCACE,iBAAA,CACA,QAAA,CACA,SAvZF,CAwZE,6CACE,iBAAA,CACA,OAAA,CACA,QAAA,CACA,0BAtZJ",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.animation {\n  width:100%;\n  max-width:1200px;\n  height:350px;\n  &::v-deep canvas {\n    width: 100% !important;\n    height: auto !important;\n  }\n}\n.message-container {\n  position:relative;\n  height:0;\n  z-index:2;\n  .message {\n    position:absolute;\n    top:5px;\n    left:50%;\n    transform: translateX(-50%);\n  }\n}\n"],sourceRoot:""}]);const r=s},87100:(n,t,a)=>{"use strict";a.d(t,{Z:()=>r});var e=a(94015),i=a.n(e),o=a(23645),s=a.n(o)()(i());s.push([n.id,".scale-enter[data-v-301c9fc3],.scale-leave-to[data-v-301c9fc3]{transform:scale(0);opacity:1}.scale-enter-active[data-v-301c9fc3],.scale-leave-active[data-v-301c9fc3]{transition:all .3s}","",{version:3,sources:["webpack://./resources/js/components/Games/GameMessage.vue"],names:[],mappings:"AA0BA,+DACE,kBAAA,CACA,SAzBF,CA4BA,0EACE,kBAzBF",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.scale-enter, .scale-leave-to {\n  transform: scale(0);\n  opacity: 1;\n}\n\n.scale-enter-active, .scale-leave-active {\n  transition: all 0.3s;\n}\n"],sourceRoot:""}]);const r=s},13350:(n,t,a)=>{"use strict";a.d(t,{Z:()=>r});var e=a(94015),i=a.n(e),o=a(23645),s=a.n(o)()(i());s.push([n.id,".bet-input[data-v-f7f27b18]{max-width:250px}","",{version:3,sources:["webpack://./resources/js/components/Games/PlayControls.vue"],names:[],mappings:"AAugBA,4BACE,eAtgBF",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.bet-input {\r\n  max-width: 250px;\r\n}\r\n"],sourceRoot:""}]);const r=s},30632:(n,t,a)=>{"use strict";a.d(t,{Z:()=>e});const e=a.p+"audio/common/click.wav"},46580:(n,t,a)=>{"use strict";a.d(t,{Z:()=>e});const e={props:{message:{required:!0,validator:function(n){return"string"==typeof n||null===n}}}}},28854:(n,t,a)=>{"use strict";a.d(t,{Z:()=>d});var e=a(20629),i=a(68843),o=a(18623),s=a(84271),r=a(77402),l=a(30632);function c(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.push.apply(a,e)}return a}function u(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){m(n,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))}))}return n}function m(n,t,a){return t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}const d={mixins:[o.Z,s.Z,r.Z],props:{betLabel:{type:String,required:!1,default:""},playLabel:{type:String,required:!1,default:""},loading:{type:Boolean,required:!0},playing:{type:Boolean,required:!0},disabled:{type:Boolean,required:!1,default:!1},provable:{type:Boolean,required:!1,default:!0},autoPlaySupport:{type:Boolean,required:!1,default:!1},autoPlayInterval:{type:Number,required:!1,default:1}},data:function(){return{bet:null,autoPlay:{baseBet:0,onWin:{reset:!0,amount:0},onLoss:{reset:!0,amount:0},games:[],minBet:0,maxBet:0,betsCount:0,maxBetsCount:0,maxBalance:0,minBalance:0,winsCount:0,lossesCount:0},autoPlayInProgress:!1,autoPlayEnabled:!1,autoPlaySettingsDialog:!1,autoPlayHistoryDialog:!1}},computed:u(u({},(0,e.rn)("auth",["account"])),{},{defaultBet:function(){return parseInt(this.config.default_bet_amount,10)},minBet:function(){return parseInt(this.config.min_bet,10)},maxBet:function(){return parseInt(this.config.max_bet,10)},betStep:function(){return parseInt(this.config.bet_change_amount,10)},isPlayDisabled:function(){return this.provable&&!this.provablyFairGame.hash||this.playing||void 0===this.account||this.bet>this.account.balance},autoPlayNetResult:function(){return this.autoPlay.games.reduce((function(n,t){return n+t.win-t.bet}),0)}}),watch:{bet:function(n,t){this.$emit("bet-change",(0,i.U)(n)?n:0)}},created:function(){var n=this;this.$nextTick((function(){n.bet=n.defaultBet}))},methods:{play:function(){this.sound(l.Z),this.autoPlaySupport&&this.autoPlayEnabled&&!this.autoPlayInProgress&&(this.autoPlayInProgress=!0,this.autoPlay.baseBet=this.bet,this.autoPlay.betsCount=0,this.autoPlay.winsCount=0,this.autoPlay.lossesCount=0,this.autoPlay.games=[]),this.$emit("play",this.bet)},decreaseBet:function(){this.sound(l.Z);var n=this.bet-this.betStep;this.bet=Math.max(this.minBet,n)},increaseBet:function(){this.sound(l.Z);var n=this.bet+this.betStep;this.bet=Math.min(this.maxBet,n)},onGameCompleted:function(n){var t=this;if(this.autoPlaySupport){var a=n.win>n.bet;this.autoPlay.betsCount++,this.autoPlay.games.push({bet:n.bet,win:n.win}),a?(this.autoPlay.winsCount++,this.autoPlay.onWin.reset?this.setBet(this.autoPlay.baseBet):this.setBet(this.bet+this.autoPlay.onWin.amount)):(this.autoPlay.lossesCount++,this.autoPlay.onLoss.reset?this.setBet(this.autoPlay.baseBet):this.setBet(this.bet+this.autoPlay.onLoss.amount)),(this.bet>this.account.balance||this.autoPlay.minBalance>0&&this.account.balance<this.autoPlay.minBalance||this.autoPlay.maxBalance>0&&this.account.balance>this.autoPlay.maxBalance||this.autoPlay.maxBetsCount>0&&this.autoPlay.betsCount>=this.autoPlay.maxBetsCount)&&this.stopAutoPlay(),setTimeout((function(){t.autoPlayInProgress?t.play():t.stopAutoPlay()}),1e3*parseInt(this.autoPlayInterval))}},setBet:function(n){var t=this.autoPlay.maxBet>0?[n,this.maxBet,this.autoPlay.maxBet]:[n,this.maxBet],a=this.autoPlay.minBet>0?[this.minBet,this.autoPlay.minBet]:[this.minBet];this.bet=Math.max.apply(Math,[Math.min.apply(Math,t)].concat(a))},stopAutoPlay:function(){this.autoPlayInProgress=!1}}}},38552:(n,t,a)=>{"use strict";a.d(t,{Z:()=>s});var e=a(15566),i=a(56235),o=a(68843);const s={computed:{gamePackageId:function(){return this.$route.params.game},gameSlug:function(){return this.$route.params.slug},config:function(){var n=this;return this.gameSlug?(0,e.v)(this.gamePackageId).variations.find((function(t){return t.slug===n.gameSlug})):(0,e.v)(this.gamePackageId)},provablyFairGame:function(){return this.$store.getters["provably-fair/get"](this.gamePackageId)||{}}},methods:{getRoute:function(n){return(0,i.B)("games.".concat(this.gamePackageId,".").concat(n))},loadCardDeck:function(){return(0,o.ab)(window.assets.deck)}}}},5378:(n,t,a)=>{"use strict";var e=a(93379),i=a.n(e),o=a(87100),s={insert:"head",singleton:!1};i()(o.Z,s);o.Z.locals},61256:(n,t,a)=>{"use strict";var e=a(93379),i=a.n(e),o=a(13350),s={insert:"head",singleton:!1};i()(o.Z,s);o.Z.locals},23852:(n,t,a)=>{"use strict";a.d(t,{s:()=>e,x:()=>i});var e=function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("transition",{attrs:{name:"scale"}},[n.message?a("v-alert",{attrs:{dense:"",outlined:"",text:"",color:"primary"}},[n._v("\n    "+n._s(n.message)+"\n  ")]):n._e()],1)},i=[]},30733:(n,t,a)=>{"use strict";a.d(t,{s:()=>e,x:()=>i});var e=function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),n.play(t)}},model:{value:n.formIsValid,callback:function(t){n.formIsValid=t},expression:"formIsValid"}},[n.autoPlaySupport?a("div",{staticClass:"d-flex justify-center"},[a("v-btn-toggle",{staticClass:"align-self-center mb-3",attrs:{"active-class":"primary--text",mandatory:"",rounded:"",group:""},model:{value:n.autoPlayEnabled,callback:function(t){n.autoPlayEnabled=t},expression:"autoPlayEnabled"}},[a("v-btn",{staticClass:"mx-1",attrs:{disabled:n.playing||n.autoPlayInProgress,small:"",value:!1}},[n._v("\n        "+n._s(n.$t("Manual"))+"\n      ")]),n._v(" "),a("v-btn",{staticClass:"mx-1",attrs:{disabled:n.playing||n.autoPlayInProgress,small:"",value:!0}},[n._v("\n        "+n._s(n.$t("Auto"))+"\n      ")])],1),n._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:n._u([{key:"activator",fn:function(t){var e=t.on,i=t.attrs;return[a("v-btn",n._g(n._b({attrs:{icon:"",color:"primary",disabled:!n.autoPlayEnabled||n.playing||n.autoPlayInProgress}},"v-btn",i,!1),e),[a("v-icon",[n._v("mdi-cog")])],1)]}}],null,!1,3358863509),model:{value:n.autoPlaySettingsDialog,callback:function(t){n.autoPlaySettingsDialog=t},expression:"autoPlaySettingsDialog"}},[n._v(" "),a("v-card",[a("v-card-title",{staticClass:"headline my-5"},[n._v("\n          "+n._s(n.$t("Auto play settings"))+"\n        ")]),n._v(" "),a("v-card-text",[a("v-text-field",{staticClass:"text-center",attrs:{dense:"",outlined:"",label:n.$t("On loss"),rules:[n.validationInteger],readonly:n.autoPlay.onLoss.reset,suffix:n.$t("credits")},scopedSlots:n._u([{key:"prepend-inner",fn:function(){return[a("v-btn-toggle",{staticClass:"align-self-center",attrs:{"active-class":"primary--text",mandatory:"",rounded:"",group:""},model:{value:n.autoPlay.onLoss.reset,callback:function(t){n.$set(n.autoPlay.onLoss,"reset",t)},expression:"autoPlay.onLoss.reset"}},[a("v-btn",{attrs:{value:!0,small:""}},[n._v("\n                  "+n._s(n.$t("Reset to base"))+"\n                ")]),n._v(" "),a("v-btn",{attrs:{value:!1,small:""}},[n._v("\n                  "+n._s(n.$t("Change by"))+"\n                ")])],1)]},proxy:!0}],null,!1,3331114620),model:{value:n.autoPlay.onLoss.amount,callback:function(t){n.$set(n.autoPlay.onLoss,"amount",n._n(t))},expression:"autoPlay.onLoss.amount"}}),n._v(" "),a("v-text-field",{staticClass:"text-center",attrs:{dense:"",outlined:"",label:n.$t("On win"),rules:[n.validationInteger],readonly:n.autoPlay.onWin.reset,suffix:n.$t("credits")},scopedSlots:n._u([{key:"prepend-inner",fn:function(){return[a("v-btn-toggle",{staticClass:"align-self-center",attrs:{"active-class":"primary--text",mandatory:"",rounded:"",group:""},model:{value:n.autoPlay.onWin.reset,callback:function(t){n.$set(n.autoPlay.onWin,"reset",t)},expression:"autoPlay.onWin.reset"}},[a("v-btn",{attrs:{value:!0,small:""}},[n._v("\n                  "+n._s(n.$t("Reset to base"))+"\n                ")]),n._v(" "),a("v-btn",{attrs:{value:!1,small:""}},[n._v("\n                  "+n._s(n.$t("Change by"))+"\n                ")])],1)]},proxy:!0}],null,!1,2613860143),model:{value:n.autoPlay.onWin.amount,callback:function(t){n.$set(n.autoPlay.onWin,"amount",n._n(t))},expression:"autoPlay.onWin.amount"}}),n._v(" "),a("v-text-field",{staticClass:"text-center",attrs:{dense:"",outlined:"",label:n.$t("Number of games"),rules:[n.validationNonNegativeInteger]},model:{value:n.autoPlay.maxBetsCount,callback:function(t){n.$set(n.autoPlay,"maxBetsCount",n._n(t))},expression:"autoPlay.maxBetsCount"}}),n._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"text-center",attrs:{dense:"",outlined:"",label:n.$t("Min bet"),suffix:n.$t("credits"),rules:[n.validationNonNegativeInteger]},model:{value:n.autoPlay.minBet,callback:function(t){n.$set(n.autoPlay,"minBet",n._n(t))},expression:"autoPlay.minBet"}})],1),n._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"text-center",attrs:{dense:"",outlined:"",label:n.$t("Max bet"),suffix:n.$t("credits"),rules:[n.validationNonNegativeInteger]},model:{value:n.autoPlay.maxBet,callback:function(t){n.$set(n.autoPlay,"maxBet",n._n(t))},expression:"autoPlay.maxBet"}})],1)],1),n._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"text-center",attrs:{dense:"",outlined:"",prefix:n.$t("less than"),label:n.$t("Stop if balance is"),rules:[n.validationNonNegativeInteger]},model:{value:n.autoPlay.minBalance,callback:function(t){n.$set(n.autoPlay,"minBalance",n._n(t))},expression:"autoPlay.minBalance"}})],1),n._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"text-center",attrs:{dense:"",outlined:"",prefix:n.$t("greater than"),label:n.$t("Stop if balance is"),rules:[n.validationNonNegativeInteger]},model:{value:n.autoPlay.maxBalance,callback:function(t){n.$set(n.autoPlay,"maxBalance",n._n(t))},expression:"autoPlay.maxBalance"}})],1)],1)],1),n._v(" "),a("v-card-actions",[a("v-spacer"),n._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){n.autoPlaySettingsDialog=!1}}},[n._v("\n            "+n._s(n.$t("Apply"))+"\n          ")])],1)],1)],1),n._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:n._u([{key:"activator",fn:function(t){var e=t.on,i=t.attrs;return[a("v-btn",n._g(n._b({attrs:{icon:"",color:"primary",disabled:!n.autoPlayEnabled||n.playing||n.autoPlayInProgress}},"v-btn",i,!1),e),[a("v-icon",[n._v("mdi-poll")])],1)]}}],null,!1,2222554209),model:{value:n.autoPlayHistoryDialog,callback:function(t){n.autoPlayHistoryDialog=t},expression:"autoPlayHistoryDialog"}},[n._v(" "),a("v-card",[a("v-card-title",{staticClass:"headline my-5"},[n._v("\n          "+n._s(n.$t("Auto play history"))+"\n        ")]),n._v(" "),a("v-card-text",[n.autoPlay.games.length?a("v-simple-table",{attrs:{dense:"","fixed-header":""},scopedSlots:n._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[n._v("\n                    #\n                  ")]),n._v(" "),a("th",{staticClass:"text-right"},[n._v("\n                    "+n._s(n.$t("Bet"))+"\n                  ")]),n._v(" "),a("th",{staticClass:"text-right"},[n._v("\n                    "+n._s(n.$t("Win"))+"\n                  ")])])]),n._v(" "),a("tbody",n._l(n.autoPlay.games,(function(t,e){return a("tr",{key:e},[a("td",{staticClass:"text-left"},[n._v("\n                    "+n._s(++e)+"\n                  ")]),n._v(" "),a("td",{staticClass:"text-right"},[n._v("\n                    "+n._s(t.bet)+"\n                  ")]),n._v(" "),a("td",{staticClass:"text-right"},[n._v("\n                    "+n._s(t.win)+"\n                  ")])])})),0),n._v(" "),a("tfoot",[a("tr",[a("th",{staticClass:"text-right",attrs:{colspan:"2"}},[n._v("\n                    "+n._s(n.$t("Total net win"))+"\n                  ")]),n._v(" "),a("th",{staticClass:"text-right",class:n.autoPlayNetResult>0?"green--text":"error--text"},[n._v("\n                    "+n._s(n.autoPlayNetResult.toFixed(2))+"\n                  ")])])])]},proxy:!0}],null,!1,4084813946)}):a("p",[n._v("\n            "+n._s(n.$t("No games played in the auto mode."))+"\n          ")])],1),n._v(" "),a("v-card-actions",[a("v-spacer"),n._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){n.autoPlayHistoryDialog=!1}}},[n._v("\n            "+n._s(n.$t("Close"))+"\n          ")])],1)],1)],1)],1):n._e(),n._v(" "),a("div",{staticClass:"d-flex justify-center flex-wrap mt-3"},[n._t("before-bet-input"),n._v(" "),a("v-text-field",{staticClass:"bet-input text-center",attrs:{dense:"",outlined:"","full-width":!1,label:n.betLabel||n.$t("Bet"),disabled:n.playing,rules:[n.validationInteger,function(t){return n.validationMin(t,n.minBet)},function(t){return void 0!==n.account&&n.validationMax(t,Math.min(Math.floor(n.account.balance),n.maxBet))}],"prepend-inner-icon":"mdi-minus","append-icon":"mdi-plus"},on:{"click:prepend-inner":n.decreaseBet,"click:append":n.increaseBet},scopedSlots:n._u([{key:"prepend-inner",fn:function(){return[a("v-btn",{attrs:{small:"",text:"",icon:"",color:"primary"},on:{click:function(t){n.bet=n.minBet}}},[a("v-icon",{attrs:{small:""}},[n._v("\n            mdi-arrow-down\n          ")])],1),n._v(" "),a("v-btn",{attrs:{small:"",text:"",icon:"",color:"primary"},on:{click:n.decreaseBet}},[a("v-icon",{attrs:{small:""}},[n._v("\n            mdi-minus\n          ")])],1)]},proxy:!0},{key:"append",fn:function(){return[a("v-btn",{attrs:{small:"",text:"",icon:"",color:"primary"},on:{click:n.increaseBet}},[a("v-icon",{attrs:{small:""}},[n._v("\n            mdi-plus\n          ")])],1),n._v(" "),a("v-btn",{attrs:{small:"",text:"",icon:"",color:"primary"},on:{click:function(t){n.bet=n.maxBet}}},[a("v-icon",{attrs:{small:""}},[n._v("\n            mdi-arrow-up\n          ")])],1)]},proxy:!0}]),model:{value:n.bet,callback:function(t){n.bet=n._n(t)},expression:"bet"}}),n._v(" "),n._t("after-bet-input"),n._v(" "),n.autoPlayEnabled?a("v-btn",{staticClass:"ml-2",attrs:{color:"primary",disabled:!n.autoPlayInProgress,outlined:"",icon:"",tile:""},on:{click:n.stopAutoPlay}},[a("v-icon",[n._v("mdi-stop")])],1):n._e(),n._v(" "),a("v-btn",{staticClass:"ml-2",attrs:{type:"submit",color:"primary",loading:n.loading,disabled:n.disabled||!n.formIsValid||n.isPlayDisabled||n.autoPlayInProgress}},[n._v("\n      "+n._s(n.playLabel||n.$t("Play"))+"\n    ")]),n._v(" "),n._t("after-play-button")],2)])},i=[]},21480:(n,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>q});var e=a(87757),i=a.n(e),o=a(1125),s=a(2212),r=a(9669),l=a.n(r),c=a(20629),u=a(15566),m=(a(74155),a(18623)),d=a(84271),p=a(77402),v=a(68843),h=a(30632);const y=a.p+"audio/heads-or-tails/win.wav",f=a.p+"audio/heads-or-tails/lose.wav",g=a.p+"audio/heads-or-tails/hit1.wav",b=a.p+"audio/heads-or-tails/hit2.wav";var _=a(95841);function P(n,t,a,e,i,o,s){try{var r=n[o](s),l=r.value}catch(n){return void a(n)}r.done?t(l):Promise.resolve(l).then(e,i)}function w(n){return function(){var t=this,a=arguments;return new Promise((function(e,i){var o=n.apply(t,a);function s(n){P(o,e,i,s,r,"next",n)}function r(n){P(o,e,i,s,r,"throw",n)}s(void 0)}))}}function x(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.push.apply(a,e)}return a}function B(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){C(n,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))}))}return n}function C(n,t,a){return t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}const A={name:"HeadsOrTails",components:{GameMessage:a(21018).Z,PlayControls:_.Z},mixins:[m.Z,d.Z,p.Z],data:function(){return{clickSound:h.Z,winSound:y,loseSound:f,hit1Sound:g,hit2Sound:b,formIsValid:!0,loading:!1,playing:!1,is_ready:!1,tossBet:0,tossResult:null,result:null,message:null,animation:{}}},computed:B(B({},(0,c.rn)("auth",["account"])),{},{houseEdge:function(){return(0,u.v)("heads-or-tails.house_edge")},headsImageUrl:function(){return(0,u.v)("heads-or-tails.images.heads")},tailsImageUrl:function(){return(0,u.v)("heads-or-tails.images.tails")},edgeImageUrl:function(){return(0,u.v)("heads-or-tails.images.edge")},cameraAngle:function(){return(0,u.v)("heads-or-tails.animation.camera_angle")},cameraPosition:function(){return(0,u.v)("heads-or-tails.animation.camera_position")},throwHeight:function(){return(0,u.v)("heads-or-tails.animation.throw_height")}}),mounted:function(){var n=this;return w(i().mark((function t(){var a,e,r,l,c,u,m,d,p,v,h,y;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.hot=n,n.animation={pos:null,velocity:null,container:null,scene:null,camera:null,renderer:null,world:null,floorWidth:0,floorHeight:0,width:n.$refs.animation.offsetWidth,height:n.$refs.animation.offsetHeight,aspect:n.$refs.animation.offsetWidth/n.$refs.animation.offsetHeight,camera_angle:n.cameraAngle,camera_position:100,near:.01,far:1e4,animationStep:0,lastSound:0,isAnimation:!1,coin:null,coin_body:null,coin_radius:5,coin_height:.3,coin_top:null,coin_bottom:null,coin_top_texture:null,coin_bottom_texture:null,coin_side_texture:null,result:null,frames:[],animate:function(){n.animation.isThrought&&(n.animation.frames.length>n.animation.animationStep?(n.animation.coin.position.copy(n.animation.frames[n.animation.animationStep].position),n.animation.coin.quaternion.copy(n.animation.frames[n.animation.animationStep].quaternion),n.animation.frames[n.animation.animationStep].is_contact&&n.animation.lastSound<n.animation.animationStep&&(0===n.animation.lastSound?n.sound(n.hit1Sound):n.sound(n.hit2Sound),n.animation.lastSound=n.animation.animationStep+5),n.animation.animationStep++):(n.updateUserAccountBalance(n.result.balance),n.sound(n.result.sound),n.message=n.result.message,n.animation.animationStep=0,n.animation.frames=[],n.animation.lastSound=0,n.animation.isThrought=!1,n.result=null,n.playing=!1)),n.animation.renderer.render(n.animation.scene,n.animation.camera),n.animation.coin.position.copy(n.animation.coin_body.position),n.animation.coin.quaternion.copy(n.animation.coin_body.quaternion),requestAnimationFrame(n.animation.animate)}},n.animation.scene=new s.xsS,n.animation.camera=new s.cPb(n.animation.camera_angle,n.animation.aspect,n.animation.near,n.animation.far),n.animation.scene.add(n.animation.camera),n.animation.camera.position.set(0,n.animation.camera_position,100),n.animation.camera.lookAt(0,0,n.cameraPosition),n.animation.renderer=new s.CP7({antialias:!0,alpha:!0}),n.animation.renderer.setClearColor(0,0),n.animation.renderer.setSize(2*n.animation.width,2*n.animation.height),n.animation.renderer.shadowMap.enabled=!0,n.animation.renderer.shadowMap.type=s.ntZ,n.animation.container=n.$refs.animation,n.animation.container.appendChild(n.animation.renderer.domElement),a=new s.Mig("#ffffff",.5),n.animation.scene.add(a),(e=new s.Ox3("#ffffff",.5)).position.x=-1e3,e.position.y=1e3,e.position.z=1e3,n.animation.scene.add(e),(r=new s.PMe(15720405,.75)).position.y=60,r.target.position.set(0,0,0),r.castShadow=!0,r.shadow.camera.near=50,r.shadow.camera.far=210,r.shadow.mapSize.width=1024,r.shadow.mapSize.height=1024,n.animation.scene.add(r),n.animation.floorHeight=2*Math.tan(n.animation.camera.fov*Math.PI/180/2)*Math.abs(n.animation.camera.position.y),n.animation.floorWidth=n.animation.floorHeight*n.animation.camera.aspect,n.animation.world=new o.World,n.animation.world.gravity.set(0,-98.2,0),n.animation.world.broadphase=new o.NaiveBroadphase,n.animation.world.solver.iterations=16,n.animation.coinBodyMaterial=new o.Material,n.animation.floorBodyMaterial=new o.Material,n.animation.barrierBodyMaterial=new o.Material,n.animation.world.addContactMaterial(new o.ContactMaterial(n.animation.floorBodyMaterial,n.animation.coinBodyMaterial,{friction:.001,restitution:.5})),n.animation.world.addContactMaterial(new o.ContactMaterial(n.animation.barrierBodyMaterial,n.animation.coinBodyMaterial,{friction:.001,restitution:.5})),n.animation.floorBody=new o.Body({mass:0,shape:new o.Plane,material:n.animation.floorBodyMaterial}),n.animation.floorBody.quaternion.setFromAxisAngle(new o.Vec3(1,0,0),-Math.PI/2),n.animation.world.add(n.animation.floorBody),c=.85,(l=new o.Body({mass:0,shape:new o.Plane,material:n.animation.barrierBodyMaterial})).quaternion.setFromAxisAngle(new o.Vec3(0,1,0),-Math.PI),l.position.set(0,0,n.animation.floorHeight*c/2-5),n.animation.world.add(l),(l=new o.Body({mass:0,shape:new o.Plane,material:n.animation.barrierBodyMaterial})).quaternion.setFromAxisAngle(new o.Vec3(0,1,0),0),l.position.set(0,0,-n.animation.floorHeight*c/2-5),n.animation.world.add(l),window.barrier=l,window.CANNON=o,(l=new o.Body({mass:0,shape:new o.Plane,material:n.animation.barrierBodyMaterial})).quaternion.setFromAxisAngle(new o.Vec3(0,1,0),-Math.PI/2),l.position.set(n.animation.floorWidth*c/2,0,-5),n.animation.world.add(l),(l=new o.Body({mass:0,shape:new o.Plane,material:n.animation.barrierBodyMaterial})).quaternion.setFromAxisAngle(new o.Vec3(0,1,0),Math.PI/2),l.position.set(-n.animation.floorWidth*c/2,0,-5),n.animation.world.add(l),u=function(n){var t=s.ZX$.floorPowerOfTwo(2*n.width),a=s.ZX$.floorPowerOfTwo(2*n.height),e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.width=t,e.height=a,e.getContext("2d").drawImage(n,0,0,t,a),e},t.next=66,new Promise((function(t,a){var e=new Image;e.onload=function(){return t(u(e))},e.onerror=a,e.src=n.headsImageUrl}));case 66:return n.animation.coin_top_texture=t.sent,t.next=69,new Promise((function(t,a){var e=new Image;e.onload=function(){return t(u(e))},e.onerror=a,e.src=n.tailsImageUrl}));case 69:return n.animation.coin_bottom_texture=t.sent,t.next=72,new Promise((function(t,a){var e=new Image;e.onload=function(){return t(u(e))},e.onerror=a,e.src=n.edgeImageUrl}));case 72:n.animation.coin_side_texture=t.sent,n.animation.coin=new s.Tme,m=new s.fHI(n.animation.coin_radius,n.animation.coin_radius,n.animation.coin_height,100,1,!0),(d=new s.xEZ(n.animation.coin_side_texture)).needsUpdate=!0,p=new s.YBo({map:d}),v=new s.Kj0(m,p),n.animation.coin.add(v),n.animation.coin_swap=function(t){void 0===t&&(t=!1),null!==n.animation.coin_top&&n.animation.coin.add(n.animation.coin_top);var a=new s.zf8(n.animation.coin_radius,100),e=new s.xEZ(t?n.animation.coin_bottom_texture:n.animation.coin_top_texture);e.needsUpdate=!0;var i=new s.YBo({map:e});n.animation.coin_top=new s.Kj0(a,i),n.animation.coin_top.position.y=n.animation.coin_height/2,n.animation.coin_top.rotation.x=-Math.PI/2,n.animation.coin.add(n.animation.coin_top),null!==n.animation.coin_bottom&&n.animation.coin.add(n.animation.coin_bottom);var o=new s.zf8(n.animation.coin_radius,100),r=new s.xEZ(t?n.animation.coin_top_texture:n.animation.coin_bottom_texture);r.needsUpdate=!0;var l=new s.YBo({map:r});n.animation.coin_bottom=new s.Kj0(o,l),n.animation.coin_bottom.position.y=-n.animation.coin_height/2,n.animation.coin_bottom.rotation.x=Math.PI/2,n.animation.coin.add(n.animation.coin_bottom)},n.animation.coin_swap(),n.animation.scene.add(n.animation.coin),n.animation.coin_body=new o.Body({mass:600,shape:new o.Cylinder(n.animation.coin_radius,n.animation.coin_radius,n.animation.coin_height,100),material:n.animation.coinBodyMaterial}),n.animation.coin_body.linearDamping=.1,n.animation.coin_body.angularDamping=.1,(h=new o.Quaternion).setFromAxisAngle(new o.Vec3(1,0,0),-Math.PI/2),y=new o.Vec3(0,0,0),n.animation.coin_body.shapes[0].transformAllPoints(y,h),n.animation.throw=function(t){n.animation.coin_body.velocity.set(0,n.throwHeight,0),n.animation.coin_body.angularVelocity.set(25*Math.random()-25,Math.random(),25*Math.random()-25),n.animation.coin_body.position.set(0,10,0),n.animation.frames=[];var a=!1,e=function(){a=!0};n.animation.floorBody.addEventListener("collide",e);for(var i=0;i<10;)n.animation.frames.push({position:n.animation.coin_body.position.clone(),quaternion:n.animation.coin_body.quaternion.clone(),is_contact:a}),a=!1,n.animation.world.step(1/30),n.animation.isFinished()?i++:i=0;n.animation.floorBody.removeEventListener("collide",e);var o=n.animation.getSide();if(o>Math.PI/2*.7&&o<Math.PI/2*1.3)return n.animation.throw(t);n.animation.coin_swap((o<Math.PI/2?1:0)===t),n.animation.isThrought=!0},n.animation.getSide=function(){var t=new s.Pa4(0,1,0),a=new s.Pa4(0,1,0);return a.applyQuaternion(n.animation.coin_body.quaternion),t.angleTo(a)},n.animation.isFinished=function(){var t=.5,a=n.animation.coin_body.angularVelocity,e=n.animation.coin_body.velocity;return Math.abs(a.x)<t&&Math.abs(a.y)<t&&Math.abs(a.z)<t&&Math.abs(e.x)<t&&Math.abs(e.y)<t&&Math.abs(e.z)<t},n.animation.world.add(n.animation.coin_body),n.animation.animate(),n.is_ready=!0;case 96:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.animation.animate=function(){}},methods:B(B({},(0,c.nv)({updateUserAccountBalance:"auth/updateUserAccountBalance",setProvablyFairGame:"provably-fair/set"})),{},{play:function(n){var t=this;return w(i().mark((function a(){var e,o,s,r;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.loading=!0,t.playing=!0,t.message=null,t.updateUserAccountBalance(t.account.balance-n),a.next=6,(0,v._v)(10);case 6:return e=t.getRoute("play"),o={hash:t.provablyFairGame.hash,bet:n,toss_bet:t.tossBet},a.next=10,l().post(e,o);case 10:s=a.sent,r=s.data,t.loading=!1,t.result={balance:r.account.balance,win:r.win,message:null,sound:null},r.win>0?(t.result.sound=y,t.result.message=r.gameable.result+", "+t.$t("you won")+" "+r.win):(t.result.sound=f,t.result.message=r.gameable.result+", "+t.$t("you lost")),t.tossResult=r.gameable.toss_result,t.animation.throw(t.tossResult),t.setProvablyFairGame({key:t.gamePackageId,game:r.pf_game});case 18:case"end":return a.stop()}}),a)})))()}})};var k=a(93379),S=a.n(k),M=a(34204),I={insert:"head",singleton:!1};S()(M.Z,I);M.Z.locals;var $=a(51900),O=a(43453),Z=a.n(O),j=a(4330),E=a(72074),D=(0,$.Z)(A,(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"d-flex flex-column fill-height py-3"},[a("div",{staticClass:"message-container d-flex justify-center align-center"},[a("div",{staticClass:"message"},[a("game-message",{attrs:{message:n.message}})],1)]),n._v(" "),a("div",{staticClass:"d-flex justify-center fill-height align-center"},[a("div",{ref:"animation",staticClass:"animation"})]),n._v(" "),a("div",{staticClass:"d-flex justify-center flex-column"},[a("v-btn-toggle",{staticClass:"align-self-center mb-3",attrs:{"active-class":"primary--text",mandatory:"",rounded:"",group:""},model:{value:n.tossBet,callback:function(t){n.tossBet=t},expression:"tossBet"}},[a("v-btn",{staticClass:"mx-1",attrs:{disabled:n.playing||!n.is_ready,small:"",value:0},on:{click:function(t){return n.sound(n.clickSound)}}},[n._v("\n        "+n._s(n.$t("Heads"))+"\n      ")]),n._v(" "),a("v-btn",{staticClass:"mx-1",attrs:{disabled:n.playing||!n.is_ready,small:"",value:1},on:{click:function(t){return n.sound(n.clickSound)}}},[n._v("\n        "+n._s(n.$t("Tails"))+"\n      ")])],1)],1),n._v(" "),a("play-controls",{attrs:{loading:n.loading,playing:n.playing,disabled:!n.formIsValid||!n.is_ready},on:{play:n.play}})],1)}),[],!1,null,"0836ac5e",null);const q=D.exports;Z()(D,{VBtn:j.Z,VBtnToggle:E.Z})}}]);
//# sourceMappingURL=heads-or-tails-resources-js-pages-game.js.map